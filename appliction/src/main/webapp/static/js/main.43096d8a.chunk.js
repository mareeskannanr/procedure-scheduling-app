(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{49:function(e,t,a){e.exports=a(89)},54:function(e,t,a){},55:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),l=a(18),c=a.n(l),r=a(98),o=a(95),i=a(96),m=(a(54),a(13)),u=a(14),d=a(16),h=a(15),p=a(17),E=(a(55),a(25)),f=a(94),v=a(41),b=a.n(v).a.create({baseURL:"http://localhost:1000/"}),N=a(8),g=a(97),y=a(91),S=a(92),x=a(93),k=a(22),C=(a(36),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).sex=["","Male","Female","Other"],a.state={patient:{name:"",sex:"",dob:null},result:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"savePatient",value:function(){var e=this,t=Object(N.a)({},this.state.patient);if(t.dob){var a=new Date(t.dob),n=a.getMonth()+1,s=a.getDate();n=(n<10?"0":"")+n,s=(s<10?"0":"")+s,t.dob=[a.getFullYear(),n,s].join("-")}b.post("/api/patient",t).then(function(t){console.log(t.data),e.setState({result:"Patient Added Successfully!"})}).catch(function(t){console.error(t.response),e.setState({result:"Sorry, something went wrong! Try Again!"})})}},{key:"onChange",value:function(e,t){var a=this.state.patient;a[e]=t,this.setState({patient:a})}},{key:"render",value:function(){var e=this;return s.a.createElement(g.a,{isOpen:!0},s.a.createElement(y.a,null,s.a.createElement("span",{className:"fas fa-user"})," Patient"),s.a.createElement(S.a,null,s.a.createElement("div",{className:"col"},null==this.state.result?s.a.createElement("div",{className:"col-8 offset-2"},s.a.createElement("p",{className:"text-center"},"Fields marked with (",s.a.createElement("span",{className:"text-danger"},"*"),") are required"),s.a.createElement("div",{className:"row form-group"},s.a.createElement("div",{className:"col-2"},"Name",s.a.createElement("sup",{className:"text-danger"},"*")),s.a.createElement("div",{className:"col-9"},s.a.createElement("input",{type:"text",className:"form-control",onChange:function(t){return e.onChange("name",t.target.value)}}))),s.a.createElement("div",{className:"row form-group"},s.a.createElement("div",{className:"col-2"},"Sex"),s.a.createElement("div",{className:"col-9"},s.a.createElement("select",{value:this.state.patient.sex,className:"form-control",onChange:function(t){return e.onChange("sex",t.target.value)}},this.sex.map(function(e){return s.a.createElement("option",{key:e,value:e},e)})))),s.a.createElement("div",{className:"row form-group"},s.a.createElement("div",{className:"col-2"},"DOB"),s.a.createElement("div",{className:"col-9"},s.a.createElement(k.a,{selected:this.state.patient.dob,onChange:function(t){return e.onChange("dob",t)},dateFormat:"dd/MM/yyyy",className:"form-control"})))):s.a.createElement("h5",{className:this.state.result.includes("Patient")?"text-info":"text-danger"},this.state.result))),s.a.createElement(x.a,null,s.a.createElement("div",{className:"col-12 text-center"},!this.state.result&&s.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return e.savePatient()},disabled:!this.state.patient.name},s.a.createElement("span",{className:"fas fa-save"})," Save"),"\xa0\xa0\xa0",s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.props.closeModal()}},s.a.createElement("span",{className:"fas fa-times"})," Close"))))}}]),t}(n.Component)),O=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).headerArray=["ID","Name","Sex","DOB","Study"],a.state={patients:[],filteredPatients:[],open:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getAllPatients()}},{key:"getAllPatients",value:function(){var e=this;b.get("/api/patients").then(function(t){return e.setState({patients:t.data,filteredPatients:t.data})}).catch(function(e){return console.error(e.response)})}},{key:"createStudy",value:function(e){console.log(this.props),this.props.history.push({pathname:"/createStudy",patient:e})}},{key:"searchByName",value:function(e){if(!e)return this.setState({filteredPatients:Object(E.a)(this.state.patients)});var t=this.state.filteredPatients.filter(function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())});return this.setState({filteredPatients:t})}},{key:"openPatientModal",value:function(){this.setState({open:!0})}},{key:"closeModal",value:function(){this.setState({open:!1}),this.getAllPatients()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col"},this.state.open&&s.a.createElement(C,{closeModal:function(){return e.closeModal()}}),s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"col-12 form-inline clearfix",style:{marginBottom:"20px",marginTop:"20px"}},s.a.createElement("div",{className:"col-4"}),s.a.createElement("div",{className:"col-4 form-group"},s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text fas fa-search"})),s.a.createElement("input",{type:"text",value:this.state.searchValue,className:"form-control",placeholder:"Enter Name",onChange:function(t){return e.searchByName(t.target.value)}}))),s.a.createElement("div",{className:"col-4"},s.a.createElement("button",{type:"button",className:"btn btn-success float-right",onClick:function(){return e.openPatientModal()}},s.a.createElement("span",{className:"fas fa-plus"})," Patient"))),s.a.createElement("div",{className:"col-12"},s.a.createElement("table",{className:"table table-striped"},s.a.createElement("thead",{className:"table-dark"},s.a.createElement("tr",null,this.headerArray.map(function(e){return s.a.createElement("th",{key:e},e)}))),s.a.createElement("tbody",null,this.state.filteredPatients.map(function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.id),s.a.createElement("td",null,t.name),s.a.createElement("td",null,t.sex),s.a.createElement("td",null,t.dob),s.a.createElement("td",null,s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.createStudy(t)}},s.a.createElement("span",{className:"fas fa-plus"})," Study")))}))),0===this.state.filteredPatients.length&&s.a.createElement("div",{className:"d-flex justify-content-center",style:{marginTop:"20%"}},s.a.createElement("h2",{className:"text-info"},"Patient Table is Empty!")))))}}]),t}(n.Component),w=Object(f.a)(O),P=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"row"},s.a.createElement(w,null))}}]),t}(n.Component),T=function(e){return s.a.createElement("div",{className:"col-12 card"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",null,s.a.createElement("span",{className:"fas fa-user"})," Patient Details")),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"form-row clearfix"},e.patient.id&&s.a.createElement("div",{className:"col"},s.a.createElement("label",null,"ID"),s.a.createElement("input",{className:"form-control",value:e.patient.id,disabled:!0})),e.patient.name&&s.a.createElement("div",{className:"col"},s.a.createElement("label",null,"Name"),s.a.createElement("input",{className:"form-control",value:e.patient.name,disabled:!0})),e.patient.sex&&s.a.createElement("div",{className:"col"},s.a.createElement("label",null,"Sex"),s.a.createElement("input",{className:"form-control",value:e.patient.sex,disabled:!0})),e.patient.dob&&s.a.createElement("div",{className:"col"},s.a.createElement("label",null,"DOB"),s.a.createElement("input",{className:"form-control",value:e.patient.dob,disabled:!0})))))},j=function(e){return s.a.createElement("div",{className:"col card"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",null,s.a.createElement("span",{className:"fas fa-stethoscope"})," Schedule Details")),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"col"},s.a.createElement("label",null,"Docotor",s.a.createElement("sup",{className:"text-danger"},"*")),s.a.createElement("select",{value:e.schedule.doctorId,className:"form-control",onChange:function(t){return e.onChange("doctorId",t.target.value)},disabled:e.disable},s.a.createElement("option",{value:""}),e.doctors.map(function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)}))),s.a.createElement("div",{className:"col"},s.a.createElement("label",null,"Room",s.a.createElement("sup",{className:"text-danger"},"*")),s.a.createElement("select",{value:e.schedule.roomId,className:"form-control",onChange:function(t){return e.onChange("roomId",t.target.value)},disabled:e.disable},s.a.createElement("option",{value:""}),e.rooms.map(function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)}))),s.a.createElement("div",{className:"col"}),s.a.createElement("div",{className:"col"}))))},I=function(e){return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",null,s.a.createElement("span",{className:"fas fa-notes-medical"})," Study Details")),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"form-row"},s.a.createElement("div",{className:"col"},s.a.createElement("label",null,"Description",s.a.createElement("sup",{className:"text-danger"},"*")),s.a.createElement("textarea",{className:"form-control",value:e.schedule.description,onChange:function(t){return e.onChange("description",t.target.value)},required:!0,disabled:e.disable})),s.a.createElement("div",{className:"col"},s.a.createElement("label",null,"Planned Start Time",s.a.createElement("sup",{className:"text-danger"},"*")),s.a.createElement("br",null),s.a.createElement(k.a,{selected:e.schedule.plannedStartTime,onChange:function(t){return e.onChange("plannedStartTime",t)},showTimeSelect:!0,className:"form-control",dateFormat:"Pp",required:!0,disabled:e.disable})),s.a.createElement("div",{className:"col"},s.a.createElement("label",null,"Estimated End Time"),s.a.createElement("br",null),s.a.createElement(k.a,{selected:e.schedule.estimatedEndTime,onChange:function(t){return e.onChange("estimatedEndTime",t)},showTimeSelect:!0,className:"form-control",dateFormat:"Pp",required:!0,disabled:e.disable}),e.schedule.plannedStartTime&&e.schedule.estimatedEndTime&&e.schedule.plannedStartTime.getTime()>e.schedule.estimatedEndTime.getTime()&&s.a.createElement("small",{className:"text-danger"},s.a.createElement("br",null),"Must be greater than Planned Start Time")),s.a.createElement("div",{className:"col"}))))},D=function(e){return s.a.createElement(g.a,{isOpen:!0},s.a.createElement(y.a,null,s.a.createElement("span",{className:"fas fa-thumbs-up"})," Success"),s.a.createElement(S.a,null,"status"===e.type?s.a.createElement("h4",null,"Status Updated Successfully!"):s.a.createElement("h4",null,"Schedule Planned Successfully!")),s.a.createElement(x.a,null,s.a.createElement("div",{className:"col-12 text-center"},s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.closeModal()}},s.a.createElement("span",{className:"fas fa-times"})," Close"))))},M=function(e){function t(e){var a;if(Object(m.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={rooms:[],doctors:[],schedule:{id:"",patientId:"",doctorId:"",roomId:"",plannedStartTime:null,estimatedEndTime:null,description:"",status:""},patient:{},showMessage:!1,message:"",disablePlan:!0},a.getAllRooms(),a.getAllDoctors(),"/study/:id"===a.props.match.path)a.getScheduleById(a.props.match.params.id);else{var n=Object(N.a)({},a.state.schedule);n.patientId=a.props.location.patient.id,a.state.schedule=n,a.state.patient=a.props.location.patient}return a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getScheduleById",value:function(e){var t=this;b.get("/api/schedule/".concat(e)).then(function(e){var a=e.data.study,n=Object(N.a)({},t.state.schedule);if(n.id=e.data.id,n.patientId=a.patient.id,n.doctorId=e.data.doctor.id,n.roomId=e.data.room.id,n.studyId=a.id,n.description=a.description,n.status=a.status,a.plannedStartTime){console.log(a.plannedStartTime);var s=new Date(a.plannedStartTime);s=s.setTime(s.getTime()+198e5),n.plannedStartTime=new Date(s),console.log(a.plannedStartTime)}if(a.estimatedEndTime){var l=new Date(a.estimatedEndTime);l=l.setTime(l.getTime()+198e5),n.estimatedEndTime=new Date(l)}t.setState({patient:a.patient,schedule:n})}).catch(function(e){return console.error(e.response)})}},{key:"getAllRooms",value:function(){var e=this;b.get("/api/rooms").then(function(t){return e.setState({rooms:t.data})}).catch(function(e){return console.error(e.response)})}},{key:"getAllDoctors",value:function(){var e=this;b.get("/api/doctors").then(function(t){return e.setState({doctors:t.data})}).catch(function(e){return console.error(e.response)})}},{key:"updateStatus",value:function(e){var t=this;b.post("/api/status",{studyId:this.state.schedule.studyId,status:e}).then(function(){return t.setState({showMessage:!0,message:"status"})}).catch(function(e){return console.error(e.response)})}},{key:"saveSchedule",value:function(){var e=this,t=Object(N.a)({},this.state.schedule);b.post("/api/schedule",t).then(function(){return e.setState({showMessage:!0})}).catch(function(e){return console.error(e.response)})}},{key:"onChange",value:function(e,t){var a=Object(N.a)({},this.state.schedule),n=!0;a[e]=t,(n=!(a.description&&a.doctorId&&a.roomId&&a.plannedStartTime))||(n=!n&&a.estimatedEndTime&&a.plannedStartTime.getTime()>a.estimatedEndTime.getTime()),this.setState({schedule:a,disablePlan:n})}},{key:"closeModal",value:function(){this.props.history.push({pathname:"/studies"}),this.setState({showMessage:!1,message:""})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col"},this.state.showMessage&&s.a.createElement(D,{type:this.state.message,closeModal:function(){return e.closeModal()}}),s.a.createElement("div",{className:"col mt-15"},this.state.schedule.id&&s.a.createElement("div",{className:"card-header"},s.a.createElement("b",null,"Schedule / ",s.a.createElement("span",{className:"badge badge-secondary"},this.state.schedule.id)," / ",s.a.createElement("span",{className:"badge badge-primary"},this.state.schedule.status)))),s.a.createElement("br",null),s.a.createElement("p",{className:"text-center"},"Fields marked with (",s.a.createElement("span",{className:"text-danger"},"*"),") are required"),s.a.createElement("div",{className:"col mt-15"},s.a.createElement(T,{patient:this.state.patient})),s.a.createElement("div",{className:"col mt-15"},s.a.createElement(I,{schedule:this.state.schedule,onChange:function(t,a){return e.onChange(t,a)},disable:this.state.schedule.id>0})),s.a.createElement("div",{className:"col mt-15"},s.a.createElement(j,{rooms:this.state.rooms,doctors:this.state.doctors,schedule:this.state.schedule,onChange:function(t,a){return e.onChange(t,a)},disable:this.state.schedule.id>0})),s.a.createElement("div",{className:"col card mt-15"},s.a.createElement("div",{className:"card-header"},s.a.createElement("p",{className:"text-center"},["","Resolved"].indexOf(this.state.schedule.status)>=0&&s.a.createElement("button",{type:"button",className:"btn btn-success",style:{marginRight:"10px"},onClick:function(){return e.saveSchedule()},disabled:this.state.disablePlan},this.state.schedule.status?s.a.createElement("span",null,s.a.createElement("span",{className:"fas fa-save"})," Save"):s.a.createElement("span",null,s.a.createElement("span",{className:"fas fa-check"})," Plan")),"Planned"===this.state.schedule.status&&s.a.createElement("button",{type:"button",className:"btn btn-info",style:{marginRight:"10px"},onClick:function(t){return e.updateStatus("In Progress")}},s.a.createElement("span",{className:"fas fa-tasks"})," In Progress"),["Planned","In Progress"].indexOf(this.state.schedule.status)>=0&&s.a.createElement("button",{type:"button",className:"btn btn-primary",style:{marginRight:"10px"},onClick:function(t){return e.updateStatus("Finished")}},s.a.createElement("span",{className:"fas fa-thumbs-up"})," Finish"),s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.props.history.goBack()}},s.a.createElement("span",{className:"fas fa-times"})," Close")))))}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(s)))).headerArray=["ID","Patient Name","Room Name","Doctor Name","Status"],a.status=["Planned","In Progress","Finished"],a.state={schedules:[],filteredSchedules:[],search:{patient:"",doctor:"",status:""}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getAllSchedules()}},{key:"getAllSchedules",value:function(){var e=this;b.get("/api/schedules").then(function(t){return e.setState({schedules:t.data,filteredSchedules:t.data})}).catch(function(e){return console.error(e.response)})}},{key:"gotoStudy",value:function(e){this.props.history.push({pathname:"/study/".concat(e)})}},{key:"search",value:function(e,t){var a=this,n=Object(N.a)({},this.state.search);if(n[e]=t||"",console.log(e,t),!n.patient&&!n.doctor&&!n.status)return this.setState({filteredSchedules:Object(E.a)(this.state.schedules),search:n});var s=this.state.schedules.filter(function(e){var t=!0;n.patient&&0!==e[1].toLowerCase().indexOf(n.patient.toLowerCase())&&(t=!1);var s=!0;n.doctor&&0!==e[3].toLowerCase().indexOf(n.doctor.toLowerCase())&&(s=!1);var l=!0;return n.status&&0!==a.statusMap(e[4]).toLowerCase().indexOf(n.status.toLowerCase())&&(l=!1),t&&s&&l});return this.setState({filteredSchedules:s,search:n})}},{key:"statusMap",value:function(e){var t="";switch(e){case"PLANNED":t="Planned";break;case"INPROGRESS":t="In Progress";break;case"FINISHED":t="Finished";break;default:t=""}return t}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"form-row",style:{margin:"20px 20px"}},s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",value:this.state.search.patient,className:"form-control",placeholder:"Search By Patient Name",onChange:function(t){return e.search("patient",t.target.value)}})),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",value:this.state.search.doctor,className:"form-control",placeholder:"Search By Doctor Name",onChange:function(t){return e.search("doctor",t.target.value)}})),s.a.createElement("div",{className:"col"},s.a.createElement("select",{value:this.state.search.status,className:"form-control",onChange:function(t){return e.search("status",t.target.value)}},s.a.createElement("option",{value:"",defaultValue:!0},"Search By Status"),this.status.map(function(e){return s.a.createElement("option",{key:e,value:e},e)})))),s.a.createElement("p",{className:"text-center text-primary"},"Click Row To View Schedule Details"),s.a.createElement("div",{className:"col-12"},s.a.createElement("table",{className:"table table-striped"},s.a.createElement("thead",{className:"table-dark"},s.a.createElement("tr",null,this.headerArray.map(function(e){return s.a.createElement("th",{key:e},e)}))),s.a.createElement("tbody",null,this.state.filteredSchedules.map(function(t,a){return s.a.createElement("tr",{key:a,onClick:function(){return e.gotoStudy(t[0])}},s.a.createElement("td",null,t[0]||""),s.a.createElement("td",null,t[1]||""),s.a.createElement("td",null,t[2]||""),s.a.createElement("td",null,t[3]||""),s.a.createElement("td",null,e.statusMap(t[4]||"")))}))),0===this.state.filteredSchedules.length&&s.a.createElement("div",{className:"d-flex justify-content-center",style:{marginTop:"20%"}},s.a.createElement("h2",{className:"text-info"},"Schedule Table is Empty!"))))}}]),t}(n.Component),B=Object(f.a)(A),F=s.a.createElement(r.a,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark",style:{marginTop:"20px"}},s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{className:"navbar-brand"},s.a.createElement("img",{src:"images/caresyntax.png",alt:"CareSyntax",style:{width:"150px"}})),s.a.createElement("li",{className:"navbar-brand"},s.a.createElement("h3",{className:"d-none d-sm-block"},"Study Scheduling Application")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.a,{className:"nav-link",to:"/patients"},s.a.createElement("h4",null,s.a.createElement("span",{className:"fas fa-user"})," Patients"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement(o.a,{className:"nav-link",to:"/studies"},s.a.createElement("h4",null,s.a.createElement("span",{className:"fas fa-notes-medical"})," Schedules")))))),s.a.createElement("div",{className:"col-12"},s.a.createElement(i.a,{exact:!0,path:"/",component:P}),s.a.createElement(i.a,{exact:!0,path:"/patients",component:w}),s.a.createElement(i.a,{exact:!0,path:"/studies",component:B}),s.a.createElement(i.a,{exact:!0,path:"/createStudy",component:M}),s.a.createElement(i.a,{exact:!0,path:"/study/:id",component:M}))));c.a.render(F,document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.43096d8a.chunk.js.map